<div class="d-flex align-items-center px-4 mt-4">
    <h1 *ngIf="!id">ADD Product</h1>
    <h1 *ngIf="id">Update Product</h1>
    <form class="shadow-sm" >
        <div class="d-flex flex-wrap" style="padding:10px;" [formGroup]="productForm">
            <div class="w-50 d-flex align-items-center  mb-3">
                <label for="category" class="form-label me-2">Category:</label>
                <select formControlName="categoryId" class="form-select " id="category" aria-label="Default select example"  >
                    <option *ngFor="let category of categories" [value]="category._id">{{ category.name }}</option>

                  </select>
              </div>
            <div class="w-100 d-flex align-items-center form-group">
                <label for="name" class="form-label">Name:</label>
                <input id="name" type="text" formControlName="name" class="form-control flex-grow-1" />
            </div>
            
            <div class="w-100 d-flex align-items-center form-group">
                <label for="description" class="form-label">Description:</label>
                <textarea id="description" rows="3" formControlName="description" class="form-control flex-grow-1"></textarea>
            </div>
            <div class="w-100 d-flex align-items-center form-group">
                <label for="price" class="form-label">Price:</label>
                <input id="price" type="number" formControlName="Price" class="form-control flex-grow-1" />
                <label for="promo" class="form-label">Promo:</label>
                <input id="promo" type="number" formControlName="promo" class="form-control flex-grow-1" />
            </div>
            <div class="w-50 d-flex align-items-center form-group">
                <label for="promo" class="form-label">Quantity:</label>
                <input id="promo" type="number" formControlName="quantity" class="form-control flex-grow-1" />
            </div>
            <div class="w-100">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <h4 class="fw-bold mb-0 flex-grow-1">Images</h4>
                    <button type="button" class="btn btn-primary me-2" (click)="addImage()">Add Image</button>
                    <button type="button" class="btn btn-danger" (click)="deleteImage()">Remove Image</button>
                  </div>
                  
                
                <div formArrayName="images" class="w-100">
                    <div *ngFor="let image of images.controls; let i = index" class="d-flex align-items-center form-group">
                        <label for="image{{i}}" class="form-label">Image {{i + 1}}:</label>
                        <input id="image{{i}}" type="text" [formControlName]="i" class="form-control flex-grow-1" />
                    </div>
                </div>
            </div>
            <div class="w-100 d-flex justify-content-center">
                <button *ngIf="!id"  mat-raised-button color="primary"  [disabled]="productForm.invalid" (click)="add()">Add</button>
                <button *ngIf="id" mat-raised-button color="primary" [disabled]="productForm.invalid" (click)="update()">Update</button>

            </div>
        </div>
    </form>
</div>
